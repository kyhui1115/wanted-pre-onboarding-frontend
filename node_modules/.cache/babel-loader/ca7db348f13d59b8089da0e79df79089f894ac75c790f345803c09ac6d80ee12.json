{"ast":null,"code":"import _regeneratorRuntime from\"/Users/a./Downloads/coding/pre-onboarding/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/a./Downloads/coding/pre-onboarding/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/a./Downloads/coding/pre-onboarding/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TodoList(_ref){var todo=_ref.todo,id=_ref.id,isCompleted=_ref.isCompleted,setTodos=_ref.setTodos;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var _useState3=useState(todo),_useState4=_slicedToArray(_useState3,2),editText=_useState4[0],setEditText=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),completed=_useState6[0],setCompleted=_useState6[1];var editSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.put(\"https://pre-onboarding-selection-task.shop/todos/\".concat(id),{todo:editText,isCompleted:completed},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"access_token\"))}});case 2:_context.next=4;return axios.get(\"https://pre-onboarding-selection-task.shop/todos\",{headers:{authorization:\"bearer \".concat(localStorage.getItem(\"access_token\"))}}).then(function(res){setTodos(res.data);});case 4:setEditMode(true);case 5:case\"end\":return _context.stop();}},_callee);}));return function editSubmit(){return _ref2.apply(this,arguments);};}();var deleteSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.delete(\"https://pre-onboarding-selection-task.shop/todos/\".concat(id),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"access_token\"))}});case 2:_context2.next=4;return axios.get(\"https://pre-onboarding-selection-task.shop/todos\",{headers:{authorization:\"bearer \".concat(localStorage.getItem(\"access_token\"))}}).then(function(res){setTodos(res.data);});case 4:case\"end\":return _context2.stop();}},_callee2);}));return function deleteSubmit(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"li\",{className:\"flex mb-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex mr-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"mr-1\",defaultChecked:isCompleted,onChange:function onChange(e){return setCompleted(e.target.checked);}}),editMode?/*#__PURE__*/_jsx(\"span\",{children:todo}):null]}),editMode?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"modify-button\",className:\"px-1 mr-1 border bg-slate-300 border-neutral-400\",onClick:function onClick(){return setEditMode(false);},children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"delete-button\",className:\"px-1 border bg-slate-300 border-neutral-400\",onClick:deleteSubmit,children:\"\\uC0AD\\uC81C\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{\"data-testid\":\"modify-input\",className:\"mr-2 border border-neutral-400 w-44\",defaultValue:todo,onChange:function onChange(e){return setEditText(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"submit-button\",className:\"px-1 mr-1 border bg-slate-300 border-neutral-400\",onClick:editSubmit,children:\"\\uC81C\\uCD9C\"}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"cancel-button\",className:\"px-1 border bg-slate-300 border-neutral-400\",onClick:function onClick(){setEditMode(true);setEditText(todo);},children:\"\\uCDE8\\uC18C\"})]})]});}export default TodoList;","map":{"version":3,"names":["axios","useState","jsx","_jsx","jsxs","_jsxs","TodoList","_ref","todo","id","isCompleted","setTodos","_useState","_useState2","_slicedToArray","editMode","setEditMode","_useState3","_useState4","editText","setEditText","_useState5","_useState6","completed","setCompleted","editSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","put","concat","headers","Authorization","localStorage","getItem","get","authorization","then","res","data","stop","apply","arguments","deleteSubmit","_ref3","_callee2","_callee2$","_context2","delete","className","children","type","defaultChecked","onChange","e","target","checked","onClick","defaultValue","value"],"sources":["/Users/a./Downloads/coding/pre-onboarding/client/src/components/TodoList.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\n\nfunction TodoList({ todo, id, isCompleted, setTodos }) {\n  const [editMode, setEditMode] = useState(true);\n  const [editText, setEditText] = useState(todo);\n  const [completed, setCompleted] = useState(false);\n\n  const editSubmit = async () => {\n    await axios.put(\n      `https://pre-onboarding-selection-task.shop/todos/${id}`,\n      {\n        todo: editText,\n        isCompleted: completed,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n        },\n      }\n    );\n\n    await axios\n      .get(\"https://pre-onboarding-selection-task.shop/todos\", {\n        headers: {\n          authorization: `bearer ${localStorage.getItem(\"access_token\")}`,\n        },\n      })\n      .then((res) => {\n        setTodos(res.data);\n      });\n    setEditMode(true);\n  };\n\n  const deleteSubmit = async () => {\n    await axios.delete(\n      `https://pre-onboarding-selection-task.shop/todos/${id}`,\n      {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n        },\n      }\n    );\n\n    await axios\n      .get(\"https://pre-onboarding-selection-task.shop/todos\", {\n        headers: {\n          authorization: `bearer ${localStorage.getItem(\"access_token\")}`,\n        },\n      })\n      .then((res) => {\n        setTodos(res.data);\n      });\n  };\n\n  return (\n    <li className=\"flex mb-2\">\n      <label className=\"flex mr-2\">\n        <input\n          type=\"checkbox\"\n          className=\"mr-1\"\n          defaultChecked={isCompleted}\n          onChange={(e) => setCompleted(e.target.checked)}\n        />\n        {editMode ? <span>{todo}</span> : null}\n      </label>\n      {editMode ? (\n        <div>\n          <button\n            data-testid=\"modify-button\"\n            className=\"px-1 mr-1 border bg-slate-300 border-neutral-400\"\n            onClick={() => setEditMode(false)}\n          >\n            수정\n          </button>\n          <button\n            data-testid=\"delete-button\"\n            className=\"px-1 border bg-slate-300 border-neutral-400\"\n            onClick={deleteSubmit}\n          >\n            삭제\n          </button>\n        </div>\n      ) : (\n        <div>\n          <input\n            data-testid=\"modify-input\"\n            className=\"mr-2 border border-neutral-400 w-44\"\n            defaultValue={todo}\n            onChange={(e) => setEditText(e.target.value)}\n          />\n          <button\n            data-testid=\"submit-button\"\n            className=\"px-1 mr-1 border bg-slate-300 border-neutral-400\"\n            onClick={editSubmit}\n          >\n            제출\n          </button>\n          <button\n            data-testid=\"cancel-button\"\n            className=\"px-1 border bg-slate-300 border-neutral-400\"\n            onClick={() => {\n              setEditMode(true);\n              setEditText(todo);\n            }}\n          >\n            취소\n          </button>\n        </div>\n      )}\n    </li>\n  );\n}\n\nexport default TodoList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}