{"ast":null,"code":"import _regeneratorRuntime from\"/Users/a./Downloads/coding/pre-onboarding/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/a./Downloads/coding/pre-onboarding/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/a./Downloads/coding/pre-onboarding/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/a./Downloads/coding/pre-onboarding/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SigninPage(){var navigate=useNavigate();var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),loginInfo=_useState2[0],setLoginInfo=_useState2[1];var _useState3=useState({email:false,password:false}),_useState4=_slicedToArray(_useState3,2),dis=_useState4[0],setDis=_useState4[1];var emailCheck=function emailCheck(e){if(e.target.value.match(/@/)){setDis(_objectSpread(_objectSpread({},dis),{},{email:true}));}else{setDis(_objectSpread(_objectSpread({},dis),{},{email:false}));}};var passwordCheck=function passwordCheck(e){if(e.target.value.length>=8){setDis(_objectSpread(_objectSpread({},dis),{},{password:true}));}else{setDis(_objectSpread(_objectSpread({},dis),{},{password:false}));}};useEffect(function(){if(localStorage.getItem(\"access_token\")){navigate(\"/todo\");}},[]);var loginHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.post(\"https://pre-onboarding-selection-task.shop/auth/signin\",{email:loginInfo.email,password:loginInfo.password}).then(function(res){if(res.status===200){localStorage.setItem(\"access_token\",res.data.access_token);navigate(\"/todo\");}});case 3:case\"end\":return _context.stop();}},_callee);}));return function loginHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mt-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4 text-2xl\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uC774\\uBA54\\uC77C : \"}),/*#__PURE__*/_jsx(\"input\",{value:loginInfo.email,onChange:function onChange(e){setLoginInfo(_objectSpread(_objectSpread({},loginInfo),{},{email:e.target.value}));emailCheck(e);},type:\"email\",\"data-testid\":\"email-input\",className:\"w-40 mb-2 ml-3 border\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638 : \"}),/*#__PURE__*/_jsx(\"input\",{value:loginInfo.password,onChange:function onChange(e){setLoginInfo(_objectSpread(_objectSpread({},loginInfo),{},{password:e.target.value}));passwordCheck(e);},\"data-testid\":\"password-input\",type:\"password\",className:\"w-40 border\"})]}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"signin-button\",disabled:!(dis.email&&dis.password),type:\"submit\",onClick:loginHandler,className:\"mt-4 bg-blue-500 w-36 disabled:bg-gray-400\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",type:\"button\",className:\"mt-4 text-center bg-green-400 w-36\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\\uD558\\uAE30\"})]})]});}export default SigninPage;","map":{"version":3,"names":["axios","useEffect","useState","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","SigninPage","navigate","_useState","email","password","_useState2","_slicedToArray","loginInfo","setLoginInfo","_useState3","_useState4","dis","setDis","emailCheck","e","target","value","match","_objectSpread","passwordCheck","length","localStorage","getItem","loginHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","preventDefault","post","then","res","status","setItem","data","access_token","stop","_x","apply","arguments","className","children","onChange","type","disabled","onClick","to"],"sources":["/Users/a./Downloads/coding/pre-onboarding/client/src/components/pages/SigninPage.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\nfunction SigninPage() {\n  const navigate = useNavigate();\n  const [loginInfo, setLoginInfo] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [dis, setDis] = useState({\n    email: false,\n    password: false,\n  });\n\n  const emailCheck = (e) => {\n    if (e.target.value.match(/@/)) {\n      setDis({ ...dis, email: true });\n    } else {\n      setDis({ ...dis, email: false });\n    }\n  };\n\n  const passwordCheck = (e) => {\n    if (e.target.value.length >= 8) {\n      setDis({ ...dis, password: true });\n    } else {\n      setDis({ ...dis, password: false });\n    }\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"access_token\")) {\n      navigate(\"/todo\");\n    }\n  }, []);\n\n  const loginHandler = async (e) => {\n    e.preventDefault();\n    await axios\n      .post(\"https://pre-onboarding-selection-task.shop/auth/signin\", {\n        email: loginInfo.email,\n        password: loginInfo.password,\n      })\n      .then((res) => {\n        if (res.status === 200) {\n          localStorage.setItem(\"access_token\", res.data.access_token);\n          navigate(\"/todo\");\n        }\n      });\n  };\n\n  return (\n    <div className=\"flex flex-col items-center mt-10\">\n      <h1 className=\"mb-4 text-2xl\">로그인</h1>\n      <form className=\"flex flex-col items-center\">\n        <label>\n          <span>이메일 : </span>\n          <input\n            value={loginInfo.email}\n            onChange={(e) => {\n              setLoginInfo({ ...loginInfo, email: e.target.value });\n              emailCheck(e);\n            }}\n            type=\"email\"\n            data-testid=\"email-input\"\n            className=\"w-40 mb-2 ml-3 border\"\n          />\n        </label>\n        <label>\n          <span>비밀번호 : </span>\n          <input\n            value={loginInfo.password}\n            onChange={(e) => {\n              setLoginInfo({ ...loginInfo, password: e.target.value });\n              passwordCheck(e);\n            }}\n            data-testid=\"password-input\"\n            type=\"password\"\n            className=\"w-40 border\"\n          />\n        </label>\n        <button\n          data-testid=\"signin-button\"\n          disabled={!(dis.email && dis.password)}\n          type=\"submit\"\n          onClick={loginHandler}\n          className=\"mt-4 bg-blue-500 w-36 disabled:bg-gray-400\"\n        >\n          로그인\n        </button>\n        <Link\n          to=\"/signup\"\n          type=\"button\"\n          className=\"mt-4 text-center bg-green-400 w-36\"\n        >\n          회원가입하기\n        </Link>\n      </form>\n    </div>\n  );\n}\n\nexport default SigninPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}